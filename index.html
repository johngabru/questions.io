<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PR√ì-BERINJELA üçÜüçë</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    font-family:'Helvetica Neue',Arial,sans-serif;
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    justify-content:center;
    min-height:100vh; 
    background-color:#fafafa; 
    color:#333; 
    padding:20px;
  }
  h1 { 
    margin-bottom:40px; 
    font-size:2rem; 
    color:#6a0dad; 
  }
  .quiz-img 
  { 
    width:200px; 
    height:auto; 
    margin-bottom:15px; 
    border-radius:12px; 
    box-shadow:0 4px 12px rgba(0,0,0,0.1);
  }
  .question 
  { 
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    gap:15px; 
    margin-bottom:30px; 
  }
  button {
    padding:12px 24px; 
    font-size:1rem; 
    border:none; 
    border-radius:8px; 
    cursor:pointer;
    background-color:#6a0dad; 
    color:#fff; 
    transition: background-color 0.2s, transform 0.2s; 
    width:180px;
  }
  button:hover { 
    background-color:#8b2fd0; 
    transform:translateY(-2px); 
  }
  #resultado { 
    font-size:1.8rem; 
    font-weight:bold; 
    margin-top:20px; 
    text-align:center; 
  }
  #refazer { 
    margin-top:20px; 
    background-color:#444; 
  }
  #refazer:hover { 
    background-color:#666; 
    transform:translateY(-2px); 
  }
  #start-screen {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 15px;
  margin-bottom: 30px;
}
#start-screen input {
  padding: 10px 15px;
  font-size: 1rem;
  border-radius: 8px;
  border: 1px solid #ccc;
  width: 250px;
  text-align: center;
}
#start-screen button {
  padding: 10px 25px;
  border: none;
  border-radius: 8px;
  background-color: #6a0dad;
  color: white;
  font-weight: bold;
  cursor: pointer;
  transition: 0.2s;
}
#start-screen button:hover {
  background-color: #8b2fd0;
  transform: translateY(-2px);
}
</style>
</head>
<body>

<h1>Voc√™ √© berinjelense mesmo? üçÜ</h1>

<div id="start-screen">
  <h2>Qual √© o seu nome?</h2>
  <input type="text" id="nomeInput" placeholder="Digite seu nome">
  <button id="startBtn">Come√ßar Quiz</button>
</div>

<div id="quiz-container" style="display:none;">
  <div id="progress"><div id="progress-bar"></div></div>
</div>

<div id="resultado"></div>
<div id="historico"></div>

<script>
  let resultados = [];
  let nome = "";
  let pontuacao = 0;
  let atual = 0;

const perguntas = [
  { texto:'Quem precisa de aviso pr√©vio? ', op:['A) Dreia','B) Andressa','C) Fane'], correta:'b' },
  { texto:'Qual √© o apelido da Ste?', op:['A) A menina do carro branco ','B) Os mil km rodados','C) A cadela poddle dourado'], correta:'c' },
  { texto:'O que RN sempre discorda?', op:['A) O pronunciamento da presid√™ncia','B) Os elogios','C) Os poderes do Goku '], correta:'b' },
  { texto:'Qual foi a drama do DJ Negrexx?', op:['A) Removeram ele do nosso grupo','B) Terminou o namoro ','C) Vazaram o nude dele'], correta:'a' },
  { texto:'Qual foi o marketing que passou no grupo?', op:['A) Karol sendo assesora','B) A nova namorada da Dreia','C) Gabi e Murilo na esquina'], correta:'c' },
  { texto:'Quem nunca desistiu o grupo?', op:['A) John','B) Hugo','C) Girafa'], correta:'b' },
  { texto:'Por que os meninos criaram Berinjela PLUS?', op:['A) Para falar mal das meninas','B) Defender o Yuri','C) Brotheragem'], correta:'b' },
  { texto:'Por qual motivo a gente ria dos videos da Layene?', op:['A) Roupa','B) Dan√ßa','C) Tablet'], correta:'c' },
  { texto:'O que aconteceu no inicio do grupo?', op:['A) Nada','B) Treta da Ana Vitoria x Coelhinha','C) Homofobia'], correta:'b' },
  { texto:'Quase sempre sobra para quem?', op:['A) Ananda','B) Gabriel Azul','C) Dreia'], correta:'c' },
];

const container = document.getElementById('quiz-container');
const resultadoDiv = document.getElementById('resultado');
const historicoDiv = document.getElementById('historico');
const startScreen = document.getElementById('start-screen');
const progressBar = document.getElementById('progress-bar');

document.getElementById('startBtn').addEventListener('click', () => {
  const input = document.getElementById('nomeInput');
  nome = input.value.trim() || "Visitante";
  startScreen.style.display = "none"; 
  container.style.display = "block";   
  mostrarPergunta();
  atualizarProgress();
});


function atualizarProgress() {
  let perc = (atual / perguntas.length) * 100;
  progressBar.style.width = perc + "%";
}

function mostrarPergunta() {
  const q = perguntas[atual];
  container.innerHTML = `
    <div class="question">
      <p>${q.texto}</p>
      ${q.op.map(op => `<button class="quiz-btn" onclick="responder('${op[0].toLowerCase()}', this)">${op}</button>`).join('')}
      <div class="feedback" id="feedback"></div>
    </div>
  `;
}

function responder(resposta, btn) {
  const feedbackDiv = document.getElementById('feedback');
  if(resposta === perguntas[atual].correta){
    pontuacao++;
    btn.classList.add('correct');
    feedbackDiv.textContent = "‚úî Acertou!";
    feedbackDiv.className = "feedback correct";
  } else {
    btn.classList.add('wrong');
    feedbackDiv.textContent = "‚úñ Errou!";
    feedbackDiv.className = "feedback wrong";
  }

  const botoes = document.querySelectorAll(".quiz-btn");
  botoes.forEach(b => b.disabled = true);

  setTimeout(() => {
    atual++;
    if(atual < perguntas.length){
      mostrarPergunta();
      atualizarProgress();
    } else {
      atualizarProgress();
      mostrarResultado();
    }
  }, 800);
}

function mostrarResultado() {
  resultados.push({nome: nome, pontuacao: pontuacao});
  container.innerHTML = '';
  if(pontuacao === perguntas.length){
    resultadoDiv.innerHTML = `
      PARAB√âNS ${nome}! Voc√™ √© um verdadeiro Berinjelense! üçÜüíú<br>
    `;
    resultadoDiv.style.color = '#6a0dad';
  } else {
    resultadoDiv.innerHTML = `
      REPROVADO ${nome}! Voc√™ acertou ${pontuacao} de ${perguntas.length} üòÖ<br>
    `;
    resultadoDiv.style.color = '#ff4444';
  }

  resultadoDiv.innerHTML += `<br><button id="refazer" onclick="reiniciarQuiz()">Refazer Quiz</button>`;

  let lista = resultados.map(r => `${r.nome}: ${r.pontuacao}/${perguntas.length}`).join('<br>');
  historicoDiv.innerHTML = `<br><h3>Resultados anteriores:</h3>${lista}`;

fetch("https://script.google.com/macros/s/AKfycbyIYNx4KocG3jpYs67p2a6fGy1G7F2-LsJweic33K4x5_d9bf5TDljXpGFpBkhUHxIH/exec", {
  method: "POST",
  headers: { "Content-Type": "application/x-www-form-urlencoded" },
  body: `nome=${encodeURIComponent(nome)}&pontuacao=${encodeURIComponent(pontuacao)}`
})
.then(res => console.log("Enviado!"))
.catch(err => console.error("Erro ao enviar", err));

}

function reiniciarQuiz() {
  pontuacao = 0;
  atual = 0;
  resultadoDiv.textContent = '';
  container.style.display = "block";
  mostrarPergunta();
  atualizarProgress();
}
</script>
</body>
</html>
